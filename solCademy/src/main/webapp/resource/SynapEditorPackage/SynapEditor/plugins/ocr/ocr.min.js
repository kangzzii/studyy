!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1617)}({10:function(t,e,n){var r=n(50);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},100:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},1012:function(t,e,n){"use strict";e.__esModule=!0;var r=n(416),i={HAND:"hand",SELECT:"select",ZOOM_IN:"zoomIn",ZOOM_OUT:"zoomOut",TABLE_RECOGNITION:"tableRecognition"};Object.keys(i).forEach((function(t){return i[t]=r.PLUGIN_NAME+"_"+i[t]})),e.default=i},1013:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(416);var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.util=this.editor.util,this.__eventListenerMap__={}}return t.prototype.__triggerEvent__=function(t,e){var n=this,i=this.__eventListenerMap__[t];i&&Array.from(i).forEach((function(i){var o=i.listener,a=i.options,s=a&&!0===a.sync,c=r({type:t,editor:n.editor,isSync:s},e);s?o(c):setTimeout((function(){return o(c)}),0)}))},t.prototype.on=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{sync:!0};Object.values(i.EVENT_TYPE).includes(t)&&this.util.isFunction(e)&&(this.__eventListenerMap__[t]||(this.__eventListenerMap__[t]=new Set),this.__eventListenerMap__[t].add({listener:e,options:n}))},t.prototype.off=function(t,e){var n=this.util.get(this.__eventListenerMap__,t,new Set),r=n,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a;s.listener===e&&n.delete(s)}},t.prototype.triggerOCRDataChanged=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={requestData:{url:t,file:e,page:n},responseData:r,cached:o};this.__triggerEvent__(i.EVENT_TYPE.OCR_DATA_CHANGED,a)},t}();e.default=o},1014:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0;switch(t.status){case i.HTTP_STATUS_CODE.UNSUPPORTED_MEDIA_TYPE:e=a.default.NOT_SUPPORTED_IMAGE_FORMAT;break;case i.HTTP_STATUS_CODE.LICENSE_LIMIT:e=a.default.LICENSE_LIMIT;break;default:e=a.default.UNABLE_EXTRACT_TEXT}return e};var r,i=n(416),o=n(784),a=(r=o)&&r.__esModule?r:{default:r}},1015:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t,e,n,i,o,a,s){return Promise.resolve().then((function(){return n&&(e.file=n),o?e.requestOCR(e.file,i,o,s,!0,a):t.getModelHandler().uploadFile(e.fid?null:e.file,null,{api:i,parameters:r({page:s},e.fid&&{fid:e.fid})})}))}},103:function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},11:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},114:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},115:function(t,e,n){var r=n(23),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},116:function(t,e,n){var r=n(23);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},117:function(t,e,n){var r=n(23);t.exports=function(t){return r(this.__data__,t)>-1}},118:function(t,e,n){var r=n(23);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},119:function(t,e,n){var r=n(120),i=n(37),o=n(43);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},12:function(t,e,n){"use strict";function r(t){var e=(t||navigator.userAgent).toLowerCase(),n={};return n.isMSEdge=/edge/i.test(e),n.isIE11=/trident\/7/i.test(e),n.isIE10=/msie 10/i.test(e),n.isIE9=/msie 9/i.test(e),n.isIE8=/msie 8/i.test(e),n.isChrome=/chrome/i.test(e)&&!n.isMSEdge,n.isFirefox=/firefox/i.test(e)&&!n.isMSEdge,n.isSafari=/safari/i.test(e)&&!n.isMSEdge&&!n.isChrome,n.isOpera=/opera/i.test(e)&&!n.isMSEdge,n.isWindows=/windows/i.test(e),n.isAndroid=/android/i.test(e),n.isLinux=/linux/i.test(e)&&!n.isAndroid,n.isUnix=/x11/i.test(e)&&!n.isLinux,n.isIOS=/iphone|ipad|ipod/i.test(e)||/mac/i.test(e)&&"ontouchend"in document,n.isMac=/mac/i.test(e)&&!n.isIOS,n.IOSVersion=n.isIOS?function(t){var e=t.match(/os (x )?\d+/i)[0].split(" ");return parseInt(e.pop())||-1}(e):-1,n}e.__esModule=!0,e.getStatus=r;var i=r(),o=(e.isMSEdge=i.isMSEdge,e.isIE11=i.isIE11),a=e.isIE10=i.isIE10,s=e.isIE9=i.isIE9,c=e.isIE8=i.isIE8,u=(e.isMSIE=o||a||s||c,e.isFirefox=i.isFirefox,e.isSafari=i.isSafari,e.isOpera=i.isOpera,e.isChrome=i.isChrome,e.isWindows=i.isWindows,e.isAndroid=i.isAndroid),l=(e.isLinux=i.isLinux,e.isUnix=i.isUnix,e.isIOS=i.isIOS);e.isMac=i.isMac,e.isMobile=u||l,e.IOSVersion=i.IOSVersion},120:function(t,e,n){var r=n(121),i=n(122),o=n(123),a=n(124),s=n(125);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},121:function(t,e,n){var r=n(24);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},122:function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},123:function(t,e,n){var r=n(24),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},124:function(t,e,n){var r=n(24),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},125:function(t,e,n){var r=n(24);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},126:function(t,e,n){var r=n(25);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},127:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},128:function(t,e,n){var r=n(25);t.exports=function(t){return r(this,t).get(t)}},129:function(t,e,n){var r=n(25);t.exports=function(t){return r(this,t).has(t)}},130:function(t,e,n){var r=n(25);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},134:function(t,e,n){var r=n(135),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},135:function(t,e,n){var r=n(136);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},136:function(t,e,n){var r=n(61);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},137:function(t,e,n){var r=n(85);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},138:function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},14:function(t,e,n){var r=n(20),i=n(96),o=n(97),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},15:function(t,e,n){var r=n(49);t.exports=function(t){return null==t?"":r(t)}},16:function(t,e,n){var r=n(95),i=n(100);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},1617:function(t,e,n){t.exports=n(1618)},1618:function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=p(n(907)),o=n(416),a=p(n(784)),s=p(n(1619)),c=n(1620);n(1623);var u=p(n(1015)),l=p(n(1014)),f=p(n(1624)),d=p(n(89)),h=p(n(1013));function p(t){return t&&t.__esModule?t:{default:t}}window.SynapEditor?((0,d.default)(s.default),window.SynapEditor.addIcons(f.default),window.SynapEditor.addPlugin(o.PLUGIN_NAME,(function(t){var e=window.SynapEditor.CONST.UI_NAME,n=t.util,s=t.getConfiguration(o.PLUGIN_NAME+".config")||{},f=n.get(s,["url"]),d=n.get(s,["apiKey"]),p=n.get(s,["directApiKey"])||!1,g=new i.default,v=new h.default(t),_=(0,c.createdialog)(t,g,v),y={getHTMLByOCRData:function(t,e,n){return g.init(t),g.getMergedHTML(null,e,n)},initFid:function(){g.initFid()}};if(!f)return r({},y);var m=function(e,n){t.getUIManager().showDialog(o.DIALOG_NAME.OCR_DIALOG,null,e,n)},E=function(){t.showLoadingProgress(t.getMessage(a.default.EXTRACTING_TEXT))},x=function(){t.hideLoadingProgress()},O=function(e){t.getUIManager().showAlertDialog(t.getMessage(e))};return r({dialogs:[_],buttonDef:{name:o.PLUGIN_NAME,label:t.getMessage(a.default.TITLE),iconName:e.OCR,status:{fn:function(){var e=t.selectionManager.selection;return{status:!(!e.isInLockedElement()&&e.isTextSelection())?"disable":null}}},onClickFunc:function(){var e=t.getSelectedImage();if(e){var r=e.src,i=r.substring(r.lastIndexOf("/")+1);n.urlToBlob(r).then((function(e){var n=new File([e],i,{type:e.type});E(),(0,u.default)(t,g,n,r,d,p,0).then((function(t){m(t.result,t.imagePath),v.triggerOCRDataChanged(r,n,0,t)})).catch((function(t){return O((0,l.default)(t))})).finally((function(){return x()}))}))}else n.openBrowserFileDialog((function(e){var r=e.target.files[0];E(),g.initFid(),(0,u.default)(t,g,r,f,d,p,0).then((function(t){g.fid=n.get(t.result,["fid"]),m(t.result,t.imagePath),v.triggerOCRDataChanged(f,r,0,t)})).catch((function(t){return O((0,l.default)(t))})).finally((function(){return x()}))}),g.getSupportedExtensions().map((function(t){return"."+t})).join())}},EVENT_TYPE:o.EVENT_TYPE,on:function(t,e,n){v.on(t,e,n)},off:function(t,e){v.off(t,e)}},y)}))):o.PLUGIN_NAME},1619:function(t,e,n){"use strict";var r;e.__esModule=!0;var i,o=n(784),a=(i=o)&&i.__esModule?i:{default:i};e.default=((r={})[a.default.TITLE]={en:"OCR",ko:"OCR"},r[a.default.INSERT]={en:"Insert",ko:"삽입"},r[a.default.CLOSE]={en:"Close",ko:"닫기"},r[a.default.ORIGINAL_IMAGE]={en:"Original Image",ko:"원본 이미지"},r[a.default.PREVIEW]={en:"Preview",ko:"미리보기"},r[a.default.SELECT]={en:"Select",ko:"선택"},r[a.default.HAND]={en:"Move",ko:"이동"},r[a.default.ZOOM_IN]={en:"Zoom In",ko:"확대"},r[a.default.ZOOM_OUT]={en:"Zoom Out",ko:"축소"},r[a.default.EXTRACTING_TEXT]={en:"Extracting Text...",ko:"텍스트 추출 중..."},r[a.default.NOT_SUPPORTED_IMAGE_FORMAT]={en:"This image format is not supported.",ko:"지원하지 않는 이미지 형식입니다."},r[a.default.LICENSE_LIMIT]={en:"Check your License uses limit.",ko:"라이선스 사용 제한을 확인해주세요."},r[a.default.UNABLE_EXTRACT_TEXT]={en:"An error occurred while extracting text.",ko:"텍스트 추출 중 오류가 발생했습니다."},r[a.default.LINE]={en:"Line",ko:"Line"},r[a.default.BLOCK]={en:"Block",ko:"Block"},r[a.default.TABLE_RECOGNITION]={en:"Table Recognition",ko:"표 인식"},r[a.default.PREVIOUS_PAGE]={en:"Previous Page",ko:"이전 페이지"},r[a.default.NEXT_PAGE]={en:"Next Page",ko:"다음 페이지"},r[a.default.INSERT_TEXT]={en:"inserted.",ko:"삽입되었습니다."},r)},1620:function(t,e,n){"use strict";e.__esModule=!0,e.createdialog=function(t,e,n){return d.prototype=t.createCustomDialog(r.DIALOG_NAME.OCR_DIALOG,{title:t.getMessage(o.default.TITLE),useTableLayout:!1,bodyHTML:(0,i.getBodyHTML)(t),footerButtons:[{type:"insert",point:!0,label:t.getMessage(o.default.INSERT)},{type:"cancel",point:!1,label:t.getMessage(o.default.CLOSE)}]}),new d(t,e,n)};var r=n(416),i=n(1621),o=c(n(784)),a=(c(n(1013)),c(n(1014))),s=c(n(1015));function c(t){return t&&t.__esModule?t:{default:t}}var u=.1,l=10;function f(t){var e=(t.key||"").toLowerCase();return" "===e||"spacebar"===e}function d(t,e,n){var i=this;return this instanceof d?(this.ocrHelper=e,this.ocrEventManager=n,this.editor=t,this.mode=r.TOOL_MODE.NONE,this.util=t.util,this.ocrConfig=this.editor.getConfiguration(r.PLUGIN_NAME+".config")||{},this.dialogSize=this.util.get(this.ocrConfig,["size"]),this.dialogHeight=this.editor.util.get(this.dialogSize,["height"]),this.windowEventManager=t.getWindowEventManager(),this.contentsManager=t.getContentsManager(),this.$canvasWrapper=this.$element.find(".se-ocr-image"),this.$canvas=this.$element.find(".se-ocr-image-canvas"),this.$OCREditor=this.$element.find(".se-ocr-editor"),this.$pageWrapper=this.$element.find(".se-page-wrapper"),this.$totalPage=this.$element.find(".se-totalPage"),this.$imageLoader=this.$element.find(".se-image-loader"),this.$previewLoader=this.$element.find(".se-preview-loader"),this.$snackbar=this.$element.find(".se-snackbar"),this.$recognitionSwitch=this.$element.find(".se-recognition-switch"),this.context=this.$canvas.get(0).getContext("2d"),this.scale=1,this.image=null,this.selectedRect=null,this.selectionAreaData=[],this.translateX=0,this.translateY=0,this.startX=0,this.startY=0,this.page=0,this.totalPage=0,this.isDrawing=!1,this.isMoving=!1,this.transientMode=!1,this.cacheDatas={},this.windowEventMap={mousedown:function(t){var e=t.pageX,n=t.pageY;i.startX=e-i.$canvas.offset().left,i.startY=n-i.$canvas.offset().top,i.mode===r.TOOL_MODE.SELECT?i.isDrawing=!0:i.mode===r.TOOL_MODE.HAND&&(i.isMoving=!0)},mousemove:function(t){return i.mode===r.TOOL_MODE.HAND?i.move(t):i.select(t)},mouseup:function(t){i.mode===r.TOOL_MODE.SELECT?(i.setHTML(),i.showSelectionArea(),i.isDrawing=!1):i.mode===r.TOOL_MODE.HAND&&(i.transientMode&&f(t)&&(i.transientMode=!1,i.changeMode(r.TOOL_MODE.SELECT)),i.isMoving=!1),i.detachWindowEvent()}},this.inputBox=t.getUIManager().createInputBox(void 0,{execAction:function(){return i.changePageStatus(!0,!0)}}),this.previousButton=t.getUIManager().createButton("previousPage",{label:this.editor.getMessage(o.default.PREVIOUS_PAGE),onClickFunc:function(){return i.changePageStatus(!1,!1,!1)}},!1),this.nextButton=t.getUIManager().createButton("nextPage",{label:this.editor.getMessage(o.default.NEXT_PAGE),onClickFunc:function(){return i.changePageStatus(!1,!1,!0)}},!1),this.$element.find(".se-currPage").replaceWith(this.inputBox.getElement()),this.$element.find(".se-page-previous-button").replaceWith(this.previousButton.getElement()),this.$element.find(".se-page-next-button").replaceWith(this.nextButton.getElement()),this.dialogHeight&&this.$element.css("height",this.dialogHeight),this.init=function(t){i.scale=1,i.translateX=0,i.translateY=0,i.startX=0,i.startY=0,i.selectedRect=null,i.selectionAreaData=[],i.isDrawing=!1,i.page=i.util.get(t,["page_index"])+1,i.totalPage=i.util.get(t,["total_pages"]),i.inputBox.setValue(i.page),i.$totalPage.text(i.totalPage),i.changeMode(r.TOOL_MODE.SELECT),i.detachCanvasEvent(),i.attachCanvasEvent(),i.setPage(),i.ocrHelper.init(t),1===i.totalPage?i.$pageWrapper.css("display","none"):(i.$pageWrapper.css("display",""),1===i.page?i.previousButton.disable():i.previousButton.enable(),i.page===i.totalPage?i.nextButton.disable():i.nextButton.enable(),i.inputBox.enable())},this.setPage=function(){i.directPage=i.inputBox.getValue(),i.inputBox.setValue(i.page)},this.changePageStatus=function(t,e,n){i.disableInputAndButtons(t),i.changePage(e,n)},this.getMovementImagePos=function(){var t=i.ocrHelper.getRotatedPos(i.image.width/2,i.image.height/2),e=t.x,n=t.y;i.translateX=-e*i.scale,i.translateY=-n*i.scale},this.fitScale=function(){var t=i.context.canvas.width/i.ocrHelper.width,e=i.context.canvas.height/i.ocrHelper.height,n=[];t<1&&n.push(Math.max(t,u)),e<1&&n.push(Math.max(e,u)),n.length>0&&(i.scale=Math.min.apply(Math,n.concat([l])))},this.changeMode=function(t){i.mode=t,i.$element.find(".se-result-area").attr("data-mode",i.mode)},this.zoom=function(t,e,n){var r=void 0;if(r=t?Math.min(i.scale+.1,l):Math.max(i.scale-.1,u),!i.util.isNil(e)&&!i.util.isNil(n)){var o=(e-i.translateX-i.context.canvas.width/2)/i.scale,a=(n-i.translateY-i.context.canvas.height/2)/i.scale;i.translateX-=o*(r-i.scale),i.translateY-=a*(r-i.scale)}i.scale=r,i.draw()},this.move=function(t){var e=t.pageX-i.$canvas.offset().left,n=t.pageY-i.$canvas.offset().top,r=e-i.startX,o=n-i.startY;i.translateX+=r,i.translateY+=o,i.startX=e,i.startY=n,i.draw()},this.select=function(t){var e=t.pageX,n=t.pageY,r=e-i.$canvas.offset().left,o=n-i.$canvas.offset().top;i.draw(r,o)},this.showSelectionArea=function(){var t=i.getRecognitionDataType(),e=i.getTableRecognition();i.selectionAreaData=i.selectedRect?i.ocrHelper.getDatas(i.selectedRect,t,e):[],i.draw()},this.onClickTool=function(t){var e=t.currentTarget.name;switch(e){case r.TOOL_NAME.SELECT:case r.TOOL_NAME.HAND:i.changeMode(i.mode===e?r.TOOL_MODE.NONE:e);break;case r.TOOL_NAME.ZOOM_IN:i.zoom(!0);break;case r.TOOL_NAME.ZOOM_OUT:i.zoom(!1);break;case r.TOOL_NAME.TABLE_RECOGNITION:i.toggleTableRecognition()}},this.onClickRecognitionSwitch=function(t){var e=i.editor.createJquery(t.target);e.hasClass("se-recognition-item")&&!e.hasClass("se-active")&&(i.setRecognitionDataType(e.attr("data-type")),i.redraw())},this.onKeyDown=function(t){if("h"===t.key.toLowerCase()||f(t)){if(i.isDrawing)return;!i.transientMode&&i.mode===r.TOOL_MODE.SELECT&&f(t)&&(i.transientMode=!0),i.changeMode(r.TOOL_MODE.HAND)}else if("v"===t.key.toLowerCase()){if(i.isMoving)return;i.changeMode(r.TOOL_MODE.SELECT)}},this.onKeyUp=function(t){i.transientMode&&f(t)&&(i.isMoving||(i.changeMode(r.TOOL_MODE.SELECT),i.transientMode=!1))},this.onZoomWheel=function(t){if(t.ctrlKey||t.metaKey){var e=t.originalEvent.deltaY<0,n=i.$canvas.get(0).getBoundingClientRect(),r=t.clientX-n.left,o=t.clientY-n.top;i.zoom(e,r,o),t.preventDefault()}},this.attachWindowEvent=function(){i.windowEventManager.attachDynamicEvent(i.windowEventMap)},this.detachWindowEvent=function(){i.windowEventManager.detachDynamicEvent(i.windowEventMap)},this.attachCanvasEvent=function(){i.$element.on("mousedown",".se-ocr-image-canvas",(function(){return i.attachWindowEvent()}))},this.detachCanvasEvent=function(){i.$element.off("mousedown")},this.attachEvent=function(){var e=t.constructor.ACTION;i.$element.on("click",".se-insert",i.insert.bind(i)),i.$element.on("click",".se-ocr-tool-btn",i.onClickTool.bind(i)),i.$element.on("focusout",".se-input-box",i.setPage.bind(i)),i.$canvas.on("wheel",i.onZoomWheel.bind(i)),i.$canvas.on("keydown",i.onKeyDown.bind(i)),i.$canvas.on("keyup",i.onKeyUp.bind(i)),i.$recognitionSwitch.on("click",i.onClickRecognitionSwitch.bind(i)),i.$element.on("mouseover",".se-ocr-tool-btn",(function(t){var n=t.currentTarget;i.$element.trigger(e.SHOW_TOOLTIP,{elTarget:n,message:n.getAttribute("data-tooltip")})})),i.$element.on("mouseleave",".se-ocr-tool-btn",(function(){i.$element.trigger(e.HIDE_TOOLTIP)})),i.$element.on("click","button",(function(){i.$canvas.focus()})),d.prototype.attachEvent.call(i)},this.redraw=function(){i.selectionAreaData=[],i.draw(),i.setHTML()},this.draw=function(t,e){var n=i.context.canvas.width/2,o=i.context.canvas.height/2,a=i.ocrHelper.centerX,s=i.ocrHelper.centerY,c=i.ocrHelper.angle*Math.PI/180;if(i.context.clearRect(0,0,i.context.canvas.width,i.context.canvas.height),i.context.save(),i.context.translate(n+i.translateX,o+i.translateY),i.context.scale(i.scale,i.scale),i.context.rotate(c),i.context.drawImage(i.image,-a,-s),i.context.rotate(-c),i.context.lineWidth=2/i.scale,i.ocrHelper.getDatas(null,i.getRecognitionDataType(),i.getTableRecognition()).map((function(t){var e=void 0;if("table"===t.type?e=i.ocrHelper.getRect(t.boundary.slice()):"line"===t.type&&(e=i.ocrHelper.getRect(t.line)),e){var n=e,r=n.x,o=n.y,a=n.width,s=n.height;i.context.strokeStyle=i.selectionAreaData.includes(t)?"rgb(57, 182, 184)":"rgb(137, 137, 206)",i.context.strokeRect(r,o,a,s)}})),i.context.strokeStyle="rgb(57, 182, 184)",i.mode===r.TOOL_MODE.SELECT&&t&&e){var u=(i.startX-n-i.translateX)/i.scale,l=(i.startY-o-i.translateY)/i.scale,f=(t-i.startX)/i.scale,d=(e-i.startY)/i.scale;0===f||0===d?i.selectedRect=null:(i.selectedRect=i.getReviseRect({x:u,y:l,width:f,height:d}),i.context.strokeRect(u,l,f,d))}else i.selectedRect=null;i.context.restore()},this.getReviseRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o={x:e,y:n,width:r,height:i};return r<0&&(o.x+=r,o.width=Math.abs(r)),i<0&&(o.y+=i,o.height=Math.abs(i)),o},this.getRecognitionDataType=function(){return i.$recognitionSwitch.find(".se-active").attr("data-type")},this.setRecognitionDataType=function(t){i.$recognitionSwitch.find(".se-active").removeClass("se-active"),i.$recognitionSwitch.find("[data-type="+t+"]").addClass("se-active")},this.getTableRecognition=function(){return i.$element.find(".se-ocr-tool-btn[name=tableRecognition]").hasClass("se-active")},this.setTableRecognition=function(t){var e=i.$element.find(".se-ocr-tool-btn[name=tableRecognition]");t?e.addClass("se-active"):e.removeClass("se-active")},this.toggleTableRecognition=function(){i.setTableRecognition(!i.getTableRecognition()),i.redraw()},this.setHTML=function(){var t=i.selectedRect,e=i.getRecognitionDataType(),n=i.getTableRecognition(),r=i.ocrHelper.getMergedHTML(t,e,n)||i.ocrHelper.getMergedHTML(null,e,n);i.$OCREditor.html(r)},this.setCanvasSize=function(){i.context.canvas.width=i.$canvasWrapper.width(),i.context.canvas.height=i.$canvasWrapper.height()},this.show=function(t,e,n,o){i.cacheDatas={},i.setRecognitionDataType(r.DATA_TYPE.LINE),i.setTableRecognition(!1),i.processUploadedData(n,o),d.prototype.show.call(i,t),i.setCanvasSize(),i.$canvas.focus()},this.insert=function(){var t=i.editor.constructor.ACTION;i.editor.execCommand(t.INSERT_HTML,i.$OCREditor.html()),i.showSnackbar()},this.showSnackbar=function(){i.$snackbar.removeClass("se-hide"),i.clearHideSnackbarTimer(),i.autoHideSnackbar()},this.autoHideSnackbar=function(){i.hideTimerId=setTimeout((function(){return i.hideSnackbar()}),1e3)},this.clearHideSnackbarTimer=function(){clearTimeout(i.hideTimerId)},this.hideSnackbar=function(){i.$snackbar.addClass("se-hide")},this.changePage=function(t,e){var n=i.util.get(i.ocrConfig,["url"]),r=i.util.get(i.ocrConfig,["apiKey"]),o=i.util.get(i.ocrConfig,["directApiKey"])||!1,c=parseInt(t?i.directPage:i.page)-1;if(t){var u=isNaN(c)?0:c;c=Math.max(0,Math.min(u,i.totalPage-1))}else c=e?c+1:c-1;i.showLoadingProgress(),i.inputBox.setValue(c+1);var l=i.getCacheData(c);if(l){var f=l.result,d=l.imagePath;return i.processUploadedData(f,d),void i.ocrEventManager.triggerOCRDataChanged(n,i.ocrHelper.file,c,l,!0)}(0,s.default)(i.editor,i.ocrHelper,i.ocrHelper.file,n,r||null,o,c).then((function(t){i.processUploadedData(t.result,t.imagePath),i.ocrEventManager.triggerOCRDataChanged(n,i.ocrHelper.file,i.page,t)})).catch((function(t){i.editor.getUIManager().showAlertDialog(i.editor.getMessage((0,a.default)(t)));var e=i.cacheDatas[i.page-1],n=e.result,r=e.imagePath;i.processUploadedData(n,r)}))},this.processUploadedData=function(t,e){i.changeImage(t,e),i.hideLoadingProgress()},this.changeImage=function(t,e){i.image=new Image,i.image.src=e,i.image.onload=function(){i.init(t),i.setCacheData(t,e),i.fitScale(),i.image.width!==i.ocrHelper.width&&i.image.height!==i.ocrHelper.height&&i.getMovementImagePos(),i.draw(),i.setHTML()}},this.setCacheData=function(t,e){var n=i.util.get(t,["page_index"]);!i.cacheDatas[n]&&(i.cacheDatas[n]={result:t,imagePath:e})},this.getCacheData=function(t){return i.cacheDatas[t]},this.disableInputAndButtons=function(){i.nextButton.disable(),i.previousButton.disable(),i.inputBox.disable()},this.showLoadingProgress=function(){i.$canvas.addClass("se-hide"),i.$OCREditor.addClass("se-hide"),i.$imageLoader.removeClass("se-hide"),i.$previewLoader.removeClass("se-hide")},this.hideLoadingProgress=function(){i.$canvas.removeClass("se-hide"),i.$OCREditor.removeClass("se-hide"),i.$imageLoader.addClass("se-hide"),i.$previewLoader.addClass("se-hide")},this.resizedWindow=function(){i.fixWidth(),i.setCanvasSize(),i.draw()},i.attachEvent(),i):new d(t,e)}},1621:function(t,e,n){"use strict";e.__esModule=!0,e.getBodyHTML=function(t){var e=t.getConfiguration("editor.tooltip.showShortcut");return"<div class='se-result-area'><div class='se-result-title'><span>"+t.getMessage(i.default.ORIGINAL_IMAGE)+'</span></div><div class=\'se-ocr-toolbar\'><div class="se-ocr-tool-group" data-name="tools">'+Object.values(r.TOOL_BUTTON_NAME).map((function(n){if(n===r.TOOL_NAME.SEPARATOR)return"<div class='se-separator'></div>";var s=t.util.snakeCase(n).toUpperCase();return c(n,t.getMessage(i.default[s])+(e&&a.default[s]?" "+a.default[s]:""),t.getIcon(o.default[s]))})).join("")+'\n                </div>\n                <div class="se-ocr-tool-group" data-name="pages">\n                    <div class=\'se-page-wrapper\'>\n                        <div class=\'se-page-previous-button\'></div>\n                        <div class=\'se-page\'>\n                            <span class=\'se-currPage\'></span>\n                            <span>/</span>\n                            <span class=\'se-totalPage\'></span>\n                        </div>\n                        <div class=\'se-page-next-button\'></div>\n                    </div>\n                </div>\n                <div class="se-ocr-tool-group" data-name="recognitions">\n                    <div class="se-recognition-switch">\n                        <div class="se-recognition-item se-active" data-type="'+r.DATA_TYPE.LINE+'">'+t.getMessage(i.default.LINE)+'</div>\n                        <div class="se-recognition-item" data-type="'+r.DATA_TYPE.BLOCK+'">'+t.getMessage(i.default.BLOCK)+"</div>\n                    </div>\n                    <div class='se-separator'></div>\n                    "+c(r.TOOL_NAME.TABLE_RECOGNITION,t.getMessage(i.default.TABLE_RECOGNITION),t.getIcon(o.default.TABLE_RECOGNITION))+"\n                </div>\n            </div>\n            <div class='se-result se-ocr-image'>\n                <canvas class='se-ocr-image-canvas' tabindex='0'></canvas>\n                <div class='se-image-loader se-hide'></div>\n            </div>\n        </div>\n        <div class='se-result-area'>\n            <div class='se-result-title'>\n                <span>"+t.getMessage(i.default.PREVIEW)+"</span>\n            </div>\n            <div class='se-preview-loader se-hide'></div>\n            <div class='se-result se-ocr-editor' contenteditable='true'></div>\n            <div class='se-snackbar se-hide'>"+t.getMessage(i.default.INSERT_TEXT)+"</div>\n        </div>\n    "};var r=n(416),i=s(n(784)),o=s(n(1012)),a=s(n(1622));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){return"<button class='se-ocr-tool-btn se-clickable' name='"+t+"' data-tooltip='"+e+"'>"+(n||"")+"</button>"}},1622:function(t,e,n){"use strict";e.__esModule=!0;var r=n(12),i={HAND:"H / Space",SELECT:"V",ZOOM_IN:"Ctrl+Wheel Up | Cmd+Wheel Up",ZOOM_OUT:"Ctrl+Wheel Down | Cmd+Wheel Down"};Object.entries(i).forEach((function(t){var e=t[0],n=t[1].split("|"),o=n[0],a=n[1],s=((r.isMac||r.isIOS)&&a?a:o).trim();"none"!==s&&(i[e]=s)})),e.default=i},1623:function(t,e,n){},1624:function(t,e,n){"use strict";var r;e.__esModule=!0;var i,o=n(1012),a=(i=o)&&i.__esModule?i:{default:i};e.default=((r={})[a.default.HAND]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 27"><g transform="translate(-624 -1792)"><path d="M15.354,4.808A1.526,1.526,0,0,0,13.822,6.34V9.615h-.3V3A1.526,1.526,0,0,0,11.99,1.465a1.5,1.5,0,0,0-1.473,1.5V9.615h-.3V1.532A1.526,1.526,0,0,0,8.684,0,1.5,1.5,0,0,0,7.211,1.5V9.615h-.3V3.034A1.526,1.526,0,0,0,5.379,1.5,1.5,1.5,0,0,0,3.906,3v8.864L2.718,10.234A1.5,1.5,0,1,0,.287,12L5,18.488a1.8,1.8,0,0,0,1.458.742h7.421a1.8,1.8,0,0,0,1.755-1.39l1-4.231a7.212,7.212,0,0,0,.192-1.652V6.31A1.5,1.5,0,0,0,15.354,4.808Z" transform="translate(629 1796)"/><rect width="27" height="27" transform="translate(624 1792)" fill="none"/></g></svg>',r[a.default.SELECT]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 27"><g transform="translate(-549 -1792)"><rect width="27" height="27" transform="translate(549 1792)" fill="none"/><path d="M0,0,12.67,13.569l-7.68-.823L0,17.736Z" transform="translate(558 1797)"/></g></svg>',r[a.default.ZOOM_IN]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 27"><g transform="translate(-718 -1792)"><g transform="translate(723 1797)"><path d="M19.531,12.016A7.516,7.516,0,1,1,12.016,4.5a7.516,7.516,0,0,1,7.516,7.516Z" transform="translate(-4.5 -4.5)" fill="none" stroke="#616161" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M29.645,29.645l-4.67-4.67" transform="translate(-11.751 -12.467)" fill="none" stroke="#616161" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M16.5,12v6.442" transform="translate(-8.865 -7.526)" fill="none" stroke="#616161" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M12,16.5h6.442" transform="translate(-7.526 -8.865)" fill="none" stroke="#616161" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></g></g></svg>',r[a.default.ZOOM_OUT]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 27"><g transform="translate(-756 -1792)"><g transform="translate(760.125 1797)"><path d="M19.531,12.016A7.516,7.516,0,1,1,12.016,4.5a7.516,7.516,0,0,1,7.516,7.515Z" transform="translate(-4.5 -4.5)" fill="none" stroke="#616161" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M29.645,29.645l-4.67-4.67" transform="translate(-11.751 -12.467)" fill="none" stroke="#616161" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M12,16.5h6.442" transform="translate(-7.526 -8.865)" fill="none" stroke="#616161" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></g></g></svg>',r[a.default.TABLE_RECOGNITION]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31 31"><path d="M8.08333 7H22.6667C23.2192 7 23.7491 7.21949 24.1398 7.61019C24.5305 8.00089 24.75 8.5308 24.75 9.08333V21.5833C24.75 22.1359 24.5305 22.6658 24.1398 23.0565C23.7491 23.4472 23.2192 23.6667 22.6667 23.6667H8.08333C7.5308 23.6667 7.00089 23.4472 6.61019 23.0565C6.21949 22.6658 6 22.1359 6 21.5833V9.08333C6 8.5308 6.21949 8.00089 6.61019 7.61019C7.00089 7.21949 7.5308 7 8.08333 7ZM8.08333 11.1667V15.3333H14.3333V11.1667H8.08333ZM16.4167 11.1667V15.3333H22.6667V11.1667H16.4167ZM8.08333 17.4167V21.5833H14.3333V17.4167H8.08333ZM16.4167 17.4167V21.5833H22.6667V17.4167H16.4167Z" /></svg>',r)},20:function(t,e,n){var r=n(9).Symbol;t.exports=r},22:function(t,e,n){var r=n(14),i=n(5);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},23:function(t,e,n){var r=n(30);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},24:function(t,e,n){var r=n(16)(Object,"create");t.exports=r},248:function(t,e,n){var r=n(249),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},249:function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},25:function(t,e,n){var r=n(127);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},26:function(t,e,n){var r=n(14),i=n(11);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},264:function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},265:function(t,e,n){var r=n(103);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},266:function(t,e,n){var r=n(322),i=n(138),o=n(323);t.exports=function(t){return i(t)?o(t):r(t)}},268:function(t,e){var n=Math.floor;t.exports=function(t,e){var r="";if(!t||e<1||e>9007199254740991)return r;do{e%2&&(r+=t),(e=n(e/2))&&(t+=t)}while(e);return r}},272:function(t,e,n){var r;t.exports=(r=n(33),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],c=t[e+1],h=t[e+2],p=t[e+3],g=t[e+4],v=t[e+5],_=t[e+6],y=t[e+7],m=t[e+8],E=t[e+9],x=t[e+10],O=t[e+11],T=t[e+12],M=t[e+13],w=t[e+14],b=t[e+15],C=o[0],A=o[1],S=o[2],k=o[3];C=u(C,A,S,k,a,7,s[0]),k=u(k,C,A,S,c,12,s[1]),S=u(S,k,C,A,h,17,s[2]),A=u(A,S,k,C,p,22,s[3]),C=u(C,A,S,k,g,7,s[4]),k=u(k,C,A,S,v,12,s[5]),S=u(S,k,C,A,_,17,s[6]),A=u(A,S,k,C,y,22,s[7]),C=u(C,A,S,k,m,7,s[8]),k=u(k,C,A,S,E,12,s[9]),S=u(S,k,C,A,x,17,s[10]),A=u(A,S,k,C,O,22,s[11]),C=u(C,A,S,k,T,7,s[12]),k=u(k,C,A,S,M,12,s[13]),S=u(S,k,C,A,w,17,s[14]),C=l(C,A=u(A,S,k,C,b,22,s[15]),S,k,c,5,s[16]),k=l(k,C,A,S,_,9,s[17]),S=l(S,k,C,A,O,14,s[18]),A=l(A,S,k,C,a,20,s[19]),C=l(C,A,S,k,v,5,s[20]),k=l(k,C,A,S,x,9,s[21]),S=l(S,k,C,A,b,14,s[22]),A=l(A,S,k,C,g,20,s[23]),C=l(C,A,S,k,E,5,s[24]),k=l(k,C,A,S,w,9,s[25]),S=l(S,k,C,A,p,14,s[26]),A=l(A,S,k,C,m,20,s[27]),C=l(C,A,S,k,M,5,s[28]),k=l(k,C,A,S,h,9,s[29]),S=l(S,k,C,A,y,14,s[30]),C=f(C,A=l(A,S,k,C,T,20,s[31]),S,k,v,4,s[32]),k=f(k,C,A,S,m,11,s[33]),S=f(S,k,C,A,O,16,s[34]),A=f(A,S,k,C,w,23,s[35]),C=f(C,A,S,k,c,4,s[36]),k=f(k,C,A,S,g,11,s[37]),S=f(S,k,C,A,y,16,s[38]),A=f(A,S,k,C,x,23,s[39]),C=f(C,A,S,k,M,4,s[40]),k=f(k,C,A,S,a,11,s[41]),S=f(S,k,C,A,p,16,s[42]),A=f(A,S,k,C,_,23,s[43]),C=f(C,A,S,k,E,4,s[44]),k=f(k,C,A,S,T,11,s[45]),S=f(S,k,C,A,b,16,s[46]),C=d(C,A=f(A,S,k,C,h,23,s[47]),S,k,a,6,s[48]),k=d(k,C,A,S,y,10,s[49]),S=d(S,k,C,A,w,15,s[50]),A=d(A,S,k,C,v,21,s[51]),C=d(C,A,S,k,T,6,s[52]),k=d(k,C,A,S,p,10,s[53]),S=d(S,k,C,A,x,15,s[54]),A=d(A,S,k,C,c,21,s[55]),C=d(C,A,S,k,m,6,s[56]),k=d(k,C,A,S,b,10,s[57]),S=d(S,k,C,A,_,15,s[58]),A=d(A,S,k,C,M,21,s[59]),C=d(C,A,S,k,g,6,s[60]),k=d(k,C,A,S,O,10,s[61]),S=d(S,k,C,A,h,15,s[62]),A=d(A,S,k,C,E,21,s[63]),o[0]=o[0]+C|0,o[1]=o[1]+A|0,o[2]=o[2]+S|0,o[3]=o[3]+k|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function l(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function d(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(c),e.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},28:function(t,e,n){var r=n(7),i=n(71),o=n(134),a=n(15);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},29:function(t,e,n){var r=n(26);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},30:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},322:function(t,e){t.exports=function(t){return t.split("")}},323:function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[o+r+"?",r,a,s,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+u,"g");t.exports=function(t){return t.match(f)||[]}},33:function(t,e,n){(function(e){var r;t.exports=(r=r||function(t,r){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==e&&e.crypto&&(i=e.crypto),!i)try{i=n(352)}catch(t){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},c=s.lib={},u=c.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||d).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(o());return new l.init(e,t)}}),f=s.enc={},d=f.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new l.init(n,e/2)}},h=f.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new l.init(n,e)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},g=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,o);if(c){for(var f=0;f<c;f+=a)this._doProcessBlock(i,f);n=i.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(c.Hasher=g.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new v.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math),r)}).call(this,n(36))},352:function(t,e){},36:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},37:function(t,e,n){var r=n(114),i=n(115),o=n(116),a=n(117),s=n(118);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},39:function(t,e,n){var r=n(137);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},416:function(t,e,n){"use strict";e.__esModule=!0;e.PLUGIN_NAME="ocr",e.ACCEPTABLE_EXTENSIONS=["png"];var r=e.TOOL_NAME={SELECT:"select",HAND:"hand",ZOOM_IN:"zoomIn",ZOOM_OUT:"zoomOut",SEPARATOR:"separator",TABLE_RECOGNITION:"tableRecognition"};e.TOOL_MODE={SELECT:r.SELECT,HAND:r.HAND,NONE:""},e.TOOL_BUTTON_NAME=[r.SELECT,r.HAND,r.SEPARATOR,r.ZOOM_IN,r.ZOOM_OUT],e.DIALOG_NAME={OCR_DIALOG:"ocrDialog"},e.DATA_TYPE={LINE:"line",BLOCK:"block"},e.HTTP_STATUS_CODE={UNSUPPORTED_MEDIA_TYPE:415,LICENSE_LIMIT:406},e.EVENT_TYPE={OCR_DATA_CHANGED:"ocrDataChanged"}},43:function(t,e,n){var r=n(16)(n(9),"Map");t.exports=r},464:function(t,e,n){var r,i,o,a,s,c,u,l;t.exports=(l=n(33),n(764),n(765),i=(r=l).lib,o=i.Base,a=i.WordArray,s=r.algo,c=s.MD5,u=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,r=this.cfg,i=r.hasher.create(),o=a.create(),s=o.words,c=r.keySize,u=r.iterations;s.length<c;){n&&i.update(n),n=i.update(t).finalize(e),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*c,o}}),r.EvpKDF=function(t,e,n){return u.create(n).compute(t,e)},l.EvpKDF)},465:function(t,e,n){var r=n(767),i=n(138),o=n(768);t.exports=function(t){return i(t)?o(t):r(t)}},49:function(t,e,n){var r=n(20),i=n(65),o=n(7),a=n(26),s=r?r.prototype:void 0,c=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},5:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},50:function(t,e,n){var r=n(28),i=n(29);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},59:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(36))},60:function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},61:function(t,e,n){var r=n(119),i=n(126),o=n(128),a=n(129),s=n(130);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},65:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},7:function(t,e){var n=Array.isArray;t.exports=n},71:function(t,e,n){var r=n(7),i=n(26),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},724:function(t,e,n){var r,i,o,a,s,c,u,l,f,d,h,p,g,v,_,y,m,E,x;t.exports=(r=n(33),n(464),void(r.lib.Cipher||(i=r,o=i.lib,a=o.Base,s=o.WordArray,c=o.BufferedBlockAlgorithm,u=i.enc,u.Utf8,l=u.Base64,f=i.algo.EvpKDF,d=o.Cipher=c.extend({cfg:a.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?x:m}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=i.mode={},p=o.BlockCipherMode=a.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),g=h.CBC=function(){var t=p.extend();function e(t,e,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);r.decryptBlock(t,n),e.call(this,t,n,i),this._prevBlock=o}}),t}(),v=(i.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o.push(i);var c=s.create(o,r);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:v}),reset:function(){var t;d.reset.call(this);var e=this.cfg,n=e.iv,r=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(r,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),_=o.CipherParams=a.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(i.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?s.create([1398893684,1701076831]).concat(n).concat(e):e).toString(l)},parse:function(t){var e,n=l.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=s.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),_.create({ciphertext:n,salt:e})}},m=o.SerializableCipher=a.extend({cfg:a.extend({format:y}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),a=i.cfg;return _.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),E=(i.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=s.random(8));var i=f.create({keySize:e+n}).compute(t,r),o=s.create(i.words.slice(e),4*n);return i.sigBytes=4*e,_.create({key:i,iv:o,salt:r})}},x=o.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:E}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=m.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,m.decrypt.call(this,t,e,i.key,r)}}))))},760:function(t,e,n){var r;t.exports=(r=n(33),r.enc.Utf8)},761:function(t,e,n){var r;t.exports=(r=n(33),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)u[h]=0|t[e+h];else{var p=u[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=u[h-2],_=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[h]=g+u[h-7]+_+u[h-16]}var y=r&i^r&o^i&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),E=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[h]+u[h];d=f,f=l,l=s,s=a+E|0,a=o,o=i,i=r,r=E+(m+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},762:function(t,e,n){var r;t.exports=(r=n(33),n(763),n(272),n(464),n(724),function(){var t=r,e=t.lib.BlockCipher,n=t.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],f=[],d=[],h=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var g=t[n],v=t[g],_=t[v],y=257*t[p]^16843008*p;a[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,u[n]=y,y=16843009*_^65537*v^257*g^16843008*n,l[p]=y<<24|y>>>8,f[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,h[p]=y,n?(n=g^t[t[t[_^g]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=e[a]:(u=o[a-1],a%n?n>6&&a%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[a/n|0]<<24),o[a]=o[a-n]^u);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(a=r-c,c%4)var u=o[a];else u=o[a-4];s[c]=c<4||a<=4?u:l[i[u>>>24]]^f[i[u>>>16&255]]^d[i[u>>>8&255]]^h[i[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,u,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,f,d,h,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,a,s){for(var c=this._nRounds,u=t[e]^n[0],l=t[e+1]^n[1],f=t[e+2]^n[2],d=t[e+3]^n[3],h=4,p=1;p<c;p++){var g=r[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&d]^n[h++],v=r[l>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[255&u]^n[h++],_=r[f>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&l]^n[h++],y=r[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&f]^n[h++];u=g,l=v,f=_,d=y}g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[h++],v=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[h++],_=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[h++],y=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[h++],t[e]=g,t[e+1]=v,t[e+2]=_,t[e+3]=y},keySize:8});t.AES=e._createHelper(g)}(),r.AES)},763:function(t,e,n){var r,i,o;t.exports=(o=n(33),i=(r=o).lib.WordArray,r.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var r=[],o=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,c=n[t.charCodeAt(a)]>>>6-a%4*2,u=s|c;r[o>>>2]|=u<<24-o%4*8,o++}return i.create(r,o)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},764:function(t,e,n){var r,i,o,a,s,c,u,l;t.exports=(l=n(33),i=(r=l).lib,o=i.WordArray,a=i.Hasher,s=r.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=0;u<80;u++){if(u<16)c[u]=0|t[e+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var f=(r<<5|r>>>27)+s+c[u];f+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=a._createHelper(u),r.HmacSHA1=a._createHmacHelper(u),l.SHA1)},765:function(t,e,n){var r,i,o,a;t.exports=(r=n(33),o=(i=r).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),s=i.words,c=o.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},766:function(t,e,n){var r=n(268),i=n(49),o=n(265),a=n(138),s=n(465),c=n(266),u=Math.ceil;t.exports=function(t,e){var n=(e=void 0===e?" ":i(e)).length;if(n<2)return n?r(e,t):e;var l=r(e,u(t/s(e)));return a(e)?o(c(l),0,t).join(""):l.slice(0,t)}},767:function(t,e,n){var r=n(264)("length");t.exports=r},768:function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[o+r+"?",r,a,s,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+u,"g");t.exports=function(t){for(var e=f.lastIndex=0;f.test(t);)++e;return e}},784:function(t,e,n){"use strict";e.__esModule=!0;var r=n(416),i={TITLE:"title",INSERT:"insert",CLOSE:"close",ORIGINAL_IMAGE:"originalImage",PREVIEW:"preview",SELECT:"select",HAND:"hand",ZOOM_IN:"zoomIn",ZOOM_OUT:"zoomOut",EXTRACTING_TEXT:"extractingText",NOT_SUPPORTED_IMAGE_FORMAT:"notSupportedImageFormat",LICENSE_LIMIT:"licenseLimit",UNABLE_EXTRACT_TEXT:"unableExtractText",LINE:"line",BLOCK:"block",TABLE_RECOGNITION:"tableRecognition",PREVIOUS_PAGE:"previousPage",NEXT_PAGE:"nextPage",INSERT_TEXT:"insertText"};Object.keys(i).forEach((function(t){return i[t]=r.PLUGIN_NAME+"."+i[t]})),e.default=i},85:function(t,e,n){var r=n(248),i=n(5),o=n(26),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},87:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n,r,i){var o=i*Math.PI/180;return{x:(t-n)*Math.cos(o)-(e-r)*Math.sin(o)+n,y:(t-n)*Math.sin(o)+(e-r)*Math.cos(o)+r}}},89:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){if(!window.SynapEditor)return;i.forEach((function(e){var n=Object.entries(t).reduce((function(t,n){var i=n[0],o=n[1];if(i){var a=o[e].split("|");t[i]=((r.isMac||r.isIOS)&&a[1]?a[1]:a[0]).trim()}return t}),{});window.SynapEditor.addMessages(e,n)}))};var r=n(12),i=["ko","en"]},9:function(t,e,n){var r=n(59),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},907:function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=p(n(908)),o=p(n(910)),a=n(911),s=p(n(761)),c=p(n(762)),u=p(n(912)),l=p(n(760)),f=p(n(913)),d=p(n(914)),h=p(n(915));function p(t){return t&&t.__esModule?t:{default:t}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._modelController=new i.default,this._renderer=new o.default(this._modelController),this._file=null,this._fid="",this.xhrs=[]}return t.prototype.init=function(t){return this._modelController.init(t),this},t.prototype.requestOCR=function(t,e,n,r){var i,o,s,c,u,l=this,f=arguments;return Promise.resolve().then((function(){if(i=f.length>4&&void 0!==f[4]&&f[4],o=f.length>5&&void 0!==f[5]&&f[5],s=n,!o)return Promise.resolve().then((function(){return v(t)})).then((function(t){s=_(n,t)}))})).then((function(){return(0,a.getOCRData)(t,e,s,r,l._fid,l.createRequest())})).then((function(t){if(c=t,i)return Promise.resolve().then((function(){return(0,a.getImageSrc)(c.result.masked_image,e,n,l.createRequest())})).then((function(t){u=t,c.imagePath=u}))})).then((function(){return c}))},t.prototype.abortRequests=function(){this.xhrs.forEach((function(t){return t.abort()}))},t.prototype.initRequests=function(){this.xhrs=[]},t.prototype.initFid=function(){this._fid=""},t.prototype.createRequest=function(){var t=new XMLHttpRequest;return this.xhrs.push(t),t},t.prototype.getMergedHTML=function(t,e,n){return this._renderer.getMergedHTML(t,e,n)},t.prototype.getRotatedPos=function(t,e){return this._modelController.getRotatedPos(t,e)},t.prototype.getDatas=function(t,e,n){return this._modelController.getDatas(t,e,n)},t.prototype.getRect=function(t){return this._modelController.getRect(t)},t.prototype.getSupportedExtensions=function(){return["jpg","jpeg","png","pdf","tiff","tif"]},r(t,[{key:"angle",get:function(){return this._modelController.angle}},{key:"centerX",get:function(){return this._modelController.centerX}},{key:"centerY",get:function(){return this._modelController.centerY}},{key:"width",get:function(){return this._modelController.width}},{key:"height",get:function(){return this._modelController.height}},{key:"file",set:function(t){this._file=t},get:function(){return this._file}},{key:"fid",set:function(t){this._fid=t},get:function(){return this._fid}}]),t}();function v(t){return new Promise((function(e,n){var r=new FileReader;r.onloadend=function(t){var n=new Uint8Array(t.target.result),r=d.default.create(n),i=(0,s.default)(r);e(i.toString(u.default).slice(0,32))},r.onerror=n,r.readAsArrayBuffer(t.slice(0,1024))}))}function _(t,e){var n=(0,h.default)(e,32," ").slice(0,32),r={padding:f.default,iv:l.default.parse(n.slice(0,16))};return c.default.encrypt(t,l.default.parse(n),r).toString()}e.default=g},908:function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(10)),o=c(n(87)),a=n(909),s=n(416);function c(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currType=s.DATA_TYPE.LINE,this.currTableRecognition=!1,this.init(e)}return t.prototype.init=function(t){this.result=t,this.mergedDatas=[]},t.prototype.__getLineData__=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.map((function(e){var n=e[0],r=n[0],i=n[1];return{type:"line",rotatedTop:t.getRotatedPos(r,i).y,line:e}}));return n},t.prototype.getCharBoxDatas=function(){return this.__getLineData__(this.charBoxes)},t.prototype.getBoxDatas=function(){return this.__getLineData__(this.boxes)},t.prototype.getBlockBoxDatas=function(){return this.__getLineData__(this.blockBoxes)},t.prototype.getLineBoxDatas=function(){return this.__getLineData__(this.lineBoxes)},t.prototype.getDatas=function(t,e,n){var r=this;if(!this.mergedDatas.length||e&&e!==this.currType||n!==this.currTableRecognition){this.currType=e,this.currTableRecognition=n;var i=n?this.tableList.map((function(t){var e=t.boundary[0],n=e[0],i=e[1];return t.type="table",t.rotatedTop=r.getRotatedPos(n,i).y,t})):[],o=e===s.DATA_TYPE.LINE?this.getLineBoxDatas():this.getBlockBoxDatas();n?i.push.apply(i,o.filter((function(t){var e=t.line;return!r.isContain(e)}))):i.push.apply(i,o),this.mergedDatas=i.sort((function(t,e){return t.rotatedTop-e.rotatedTop}))}var c=void 0;if(t){var u=(0,a.getBoundary)(t);c=this.mergedDatas.filter((function(t){var e=void 0;return"table"===t.type?e=t.boundary.slice(0,4):"line"===t.type&&(e=t.line.slice(0,4)),!!e&&e.every((function(t){var e=t[0],n=t[1],i=r.getRotatedPos(e,n);return r.isContainPos(u,i.x,i.y)}))}))}else c=this.mergedDatas.slice();return c},t.prototype.isContain=function(t){var e=this;return t.slice(0,4).some((function(t){var n=t[0],r=t[1];return e.tableList.some((function(t){var i=t.boundary;return e.isContainPos(i,n,r)}))}))},t.prototype.isContainPos=function(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=t[i],a=t[(i+1)%t.length],s=[a[0]-o[0],a[1]-o[1]],c=[s[1],-s[0]];r.push(c)}var u=r,l=Array.isArray(u),f=0;for(u=l?u:u[Symbol.iterator]();;){var d;if(l){if(f>=u.length)break;d=u[f++]}else{if((f=u.next()).done)break;d=f.value}var h=d,p=1/0,g=-1/0,v=t,_=Array.isArray(v),y=0;for(v=_?v:v[Symbol.iterator]();;){var m;if(_){if(y>=v.length)break;m=v[y++]}else{if((y=v.next()).done)break;m=y.value}var E=m,x=E[0]*h[0]+E[1]*h[1];p=Math.min(p,x),g=Math.max(g,x)}var O=e*h[0]+n*h[1];if(O<p||O>g)return!1}return!0},t.prototype.getRect=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=this.getRotatedPos.apply(this,e),a=this.getRotatedPos.apply(this,n),s=this.getRotatedPos.apply(this,i),c=this.getRotatedPos.apply(this,r),u=Math.max(o.x,s.x),l=Math.min(a.x,c.x),f=Math.max(o.y,a.y);return{x:u,y:f,width:l-u,height:Math.min(s.y,c.y)-f}},t.prototype.getRotatedPos=function(t,e){var n=this.angle,r=this.centerX,i=this.centerY;return(0,o.default)(t-r,e-i,0,0,n)},r(t,[{key:"charBoxes",get:function(){return(0,i.default)(this.result,["char_boxes"])||[]}},{key:"boxes",get:function(){return(0,i.default)(this.result,["boxes"])||[]}},{key:"blockBoxes",get:function(){return(0,i.default)(this.result,["block_boxes"])||[]}},{key:"lineBoxes",get:function(){return(0,i.default)(this.result,["line_boxes"])||[]}},{key:"tableList",get:function(){return(0,i.default)(this.result,["table_list"])||[]}},{key:"angle",get:function(){return 360-((0,i.default)(this.result,["rotate"])||0)}},{key:"centerX",get:function(){return this.width/2}},{key:"centerY",get:function(){return this.height/2}},{key:"width",get:function(){return(0,i.default)(this.result,["width"])||0}},{key:"height",get:function(){return(0,i.default)(this.result,["height"])||0}}]),t}();e.default=u},909:function(t,e,n){"use strict";e.__esModule=!0;e.getBoundary=function(t){var e=t.x,n=t.y,r=e+t.width,i=n+t.height;return[[e,n],[r,n],[r,i],[e,i]]}},910:function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modelController=e}return t.prototype.getMergedHTML=function(t,e,n){var r=this;return this.modelController.getDatas(t,e,n).map((function(t){return"table"===t.type?r.tableListToHTML(t):"line"===t.type?r.lineToHTML(t.line):void 0})).join("")},t.prototype.textToParagraphHTML=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length?' style="'+e.join(" ")+'"':"";return(t||"").split(/\n/g).map((function(t){return"<p"+n+">"+t+"</p>"})).join("")},t.prototype.lineToHTML=function(t){if(!t)return"";var e=t[5];return this.textToParagraphHTML(e)},t.prototype.tableListToHTML=function(t){var e=this;if(!t||!t.cells)return"";var n=new Set;return'<table style="border-collapse: collapse;">'+t.cells.map((function(t,r){return"<tr>"+t.map((function(t,i){var o=['style="border: 1px solid black; padding: 5px;"'];if(n.has(r+"_"+i))return"";var a=t[5],s=t[6]||1,c=t[7]||1;s>1&&o.push('colspan="'+s+'"'),c>1&&o.push('rowspan="'+c+'"');for(var u=r;u<r+c;u++)for(var l=i;l<i+s;l++)r===u&&i===l||n.add(u+"_"+l);return"<td "+o.join(" ")+">"+e.textToParagraphHTML(a,["margin: 0px;"])+"</td>"})).join("")+"</tr>"})).join("")+"</table>"},t}();e.default=r},911:function(t,e,n){"use strict";function r(t,e,n,r){return new Promise((function(i,o){var a=r;a.open("POST",t,!0),a.responseType=n,a.onreadystatechange=function(){4===a.readyState&&(200===a.status?i(a.response):o(a.response))},a.onerror=function(t){o(t)},a.send(e)}))}e.__esModule=!0,e.getImageSrc=function(t,e,n,i){var o;return Promise.resolve().then((function(){return(o=new FormData).append("api_key",n),r(e.replace(/\/$/,"")+"/out/"+t,o,"blob",i)})).then((function(t){return e=t,new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)}));var e})).then((function(t){return t}))},e.getOCRData=function(t,e,n,i,o,a){var s,c;return Promise.resolve().then((function(){return(s=new FormData).append("api_key",n),s.append("type",o?"page":"upload"),s.append("page_index",i),s.append("coord","origin"),s.append("skew","image"),s.append("boxes_type","all"),s.append("save_mask","true"),s.append("textout","true"),s.append("recog_form","true"),s.append("extract_table","true"),o?s.append("fid",o):s.append("image",t),r(e.replace(/\/$/,"")+"/ocr",s,"json",a)})).then((function(t){return"string"==typeof(c=t)?JSON.parse(c):c}))}},912:function(t,e,n){var r;t.exports=(r=n(33),r.enc.Hex)},913:function(t,e,n){var r;t.exports=(r=n(33),n(724),r.pad.Pkcs7)},914:function(t,e,n){var r;t.exports=(r=n(33),function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)}).prototype=t}}(),r.lib.WordArray)},915:function(t,e,n){var r=n(766),i=n(465),o=n(39),a=n(15);t.exports=function(t,e,n){t=a(t);var s=(e=o(e))?i(t):0;return e&&s<e?t+r(e-s,n):t}},95:function(t,e,n){var r=n(22),i=n(98),o=n(5),a=n(60),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},96:function(t,e,n){var r=n(20),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},97:function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},98:function(t,e,n){var r,i=n(99),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},99:function(t,e,n){var r=n(9)["__core-js_shared__"];t.exports=r}})}));