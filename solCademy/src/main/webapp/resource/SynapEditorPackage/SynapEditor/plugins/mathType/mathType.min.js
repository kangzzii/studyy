!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1588)}({1010:function(e,t,i){"use strict";t.__esModule=!0;var n=i(820),r={MATH:"math",CHEM:"chem",DELETE:"delete",OBJ_ALIGN:"objAlign",OBJ_ALIGN_BOTTOM:"objAlignBottom",OBJ_ALIGN_MIDDLE:"objAlignMiddle",OBJ_ALIGN_TOP:"objAlignTop",NOT_COMPLETED:"notCompleted"};Object.keys(r).forEach((function(e){return r[e]=n.PLUGIN_NAME+"."+r[e]})),t.default=r},12:function(e,t,i){"use strict";function n(e){var t=(e||navigator.userAgent).toLowerCase(),i={};return i.isMSEdge=/edge/i.test(t),i.isIE11=/trident\/7/i.test(t),i.isIE10=/msie 10/i.test(t),i.isIE9=/msie 9/i.test(t),i.isIE8=/msie 8/i.test(t),i.isChrome=/chrome/i.test(t)&&!i.isMSEdge,i.isFirefox=/firefox/i.test(t)&&!i.isMSEdge,i.isSafari=/safari/i.test(t)&&!i.isMSEdge&&!i.isChrome,i.isOpera=/opera/i.test(t)&&!i.isMSEdge,i.isWindows=/windows/i.test(t),i.isAndroid=/android/i.test(t),i.isLinux=/linux/i.test(t)&&!i.isAndroid,i.isUnix=/x11/i.test(t)&&!i.isLinux,i.isIOS=/iphone|ipad|ipod/i.test(t)||/mac/i.test(t)&&"ontouchend"in document,i.isMac=/mac/i.test(t)&&!i.isIOS,i.IOSVersion=i.isIOS?function(e){var t=e.match(/os (x )?\d+/i)[0].split(" ");return parseInt(t.pop())||-1}(t):-1,i}t.__esModule=!0,t.getStatus=n;var r=n(),a=(t.isMSEdge=r.isMSEdge,t.isIE11=r.isIE11),o=t.isIE10=r.isIE10,s=t.isIE9=r.isIE9,l=t.isIE8=r.isIE8,u=(t.isMSIE=a||o||s||l,t.isFirefox=r.isFirefox,t.isSafari=r.isSafari,t.isOpera=r.isOpera,t.isChrome=r.isChrome,t.isWindows=r.isWindows,t.isAndroid=r.isAndroid),c=(t.isLinux=r.isLinux,t.isUnix=r.isUnix,t.isIOS=r.isIOS);t.isMac=r.isMac,t.isMobile=u||c,t.IOSVersion=r.IOSVersion},1588:function(e,t,i){e.exports=i(1589)},1589:function(e,t,i){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=i(820),a=c(i(1010)),o=c(i(1590)),s=c(i(1591)),l=c(i(1592)),u=c(i(89));function c(e){return e&&e.__esModule?e:{default:e}}if(window.SynapEditor){var d=window.SynapEditor.CONST,g=d.NOTIFICATION_LEVEL,f=d.UI_NAME,m=d.UI_STATUS,E=d.UI_GROUP,O=d.UI_TYPE,M=d.CSS_UNIT,_=window.SynapEditor.ACTION;(0,u.default)(o.default),window.SynapEditor.addPlugin(r.PLUGIN_NAME,(function(e){if(!window.WirisPlugin||!window.WirisPlugin.GenericIntegration)return null;var t=e.getContentsManager();(0,s.default)(e),(0,l.default)(e);var i=null,o=null,u=e.createJquery('<div class="se-mathType-editor" style="display: none;"></div>'),c=e.createJquery("<div></div>");e.getElement().find(".se-main").append(u);var d=e.getConfiguration(r.PLUGIN_NAME+".config")||{},I=n({},d.properties||{});I.target=u.get(0),I.toolbar=c.get(0);var T=new window.WirisPlugin.GenericIntegration(I);T.init();var h=window.WirisPlugin.Configuration.get("imageClassName"),A=window.WirisPlugin.Configuration.get("imageCustomEditorName");T.listeners.fire("onTargetReady",{}),T.notifyWindowClosed=function(){var n=e.getSelectionManager().selection,s=T.core.modalDialog.contentContainer.querySelector(".wrs_previewImage");if(s&&s.src.includes("loading")){var l="chemistry"===o?"Chem":"Math";e.getUIManager().showNotification(e.getMessage(a.default.NOT_COMPLETED).replace("#{type}",l),g.WARNING)}if(i){var c=t.getElement(i.getId());u.html()?c.length>0&&n.anchor.drawingObjectId===i.getId()&&(N(i,u.find("img")),c.html(u.html()),e.updateModel(i.getId()),e.execCommand(_.SHOW_BALLOON,r.PLUGIN_NAME,t.getHTMLElement(i.getId()),{position:"center"})):e.execCommand(_.DELETE_LEFT)}else n.isTextSelection()&&e.execCommand(_.PASTE,{html:"\x3c!--StartFragment--\x3e"+u.html()+"\x3c!--EndFragment--\x3e",ignoreDimmedLayer:!0});i=null},window.WirisPlugin.currentInstance=T;var p=function(e){var t="";return e.hasAttribute(A)&&(t=e.getAttribute(A)),t},N=function(e,t){var i=e.getOriginSize(),n=e.getWidth(),r=e.getHeight(),a={};n&&n.unit===M.PX&&(a.width=parseInt(t.prop("width"),10)*(n.value/i.width)+"px"),r&&r.unit===M.PX&&(a.height=parseInt(t.prop("height"),10)*(r.value/i.height)+"px"),(a.width||a.height)&&t.css(a)},v=function(t){if(t){var i=!T.core.modalDialog;if(e.getUIManager().hideAllPopup(),e.showDimLayer(),e.blur(),T.core.editionProperties.temporalImage=t,T.openExistingFormulaEditor(),i&&T.core.modalDialog){var n=T.core.modalDialog.container;n.style.zIndex="2147483647";var r=e.getElement().get(0).getBoundingClientRect(),a=r.bottom,o=r.right,s=Math.max(window.innerHeight-a,0),l=Math.max(window.innerWidth-o,0);T.core.modalDialog.setPosition(s,l),new window.MutationObserver((function(){n.className.split(" ").includes("wrs_closed")&&L()})).observe(n,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1})}}},L=function(){e.hideDimLayer(),e.getIme().focus(),i=null},S=function(n){var a=e.getSelectionManager().selection;if(a.isDrawingObjectSelection()){var s=e.getSelectionManager().selection.getDrawingObject();i=s;var l="";if(s.isAlternate){var c=t.getHTMLElement(s.getId()).querySelector("svg"),d=c&&c.getAttribute("data-mathml");d&&(l="<img data-mathml='"+d.replace(/'/g,'"')+'\' role="math">')}else{var g=t.getHTMLElement(s.getId()).querySelector("img");g&&g.getAttribute("data-mathml")&&(l=g.outerHTML)}if(l){u.html(l);var f=u.find("img").addClass(h).get(0);f.setAttribute("id",s.getId()),T.core.getCustomEditors().disable();var m=p(f);m&&T.core.getCustomEditors().enable(m),s.hasClass(h)&&v(f)}}else if(a.isTextSelection()){u.html('<img data-mathml="«math xmlns=¨http://www.w3.org/1998/Math/MathML¨»«/math»" role="math">');var E=u.find("img").addClass(h).get(0);T.core.getCustomEditors().disable(),n.currentTarget.getAttribute("name")===r.BUTTON_NAME.CHEM?(T.core.getCustomEditors().enable("chemistry"),o="chemistry"):o="math",v(E)}};return{buttonDef:[{name:r.BUTTON_NAME.MATH,label:e.getMessage(a.default.MATH),iconName:f.MATH,onClickFunc:S,status:{fn:function(t){var i=t.isImage,n=t.drawingObjectId,r=t.positionType,a=m.DISABLE;if(i){var o=e.getContentsManager().getElement(n);if(o.hasClass(h)){var s=o.find("img, svg");"chemistry"!==p(s.get(0))&&(a=null)}}else"text"===r&&(a=null);return{status:a}}}},{name:r.BUTTON_NAME.CHEM,label:e.getMessage(a.default.CHEM),iconName:f.CHEM,onClickFunc:S,status:{fn:function(t){var i=t.isImage,n=t.drawingObjectId,r=t.positionType,a=m.DISABLE;if(i){var o=e.getContentsManager().getElement(n);if(o.hasClass(h)){var s=o.find("img, svg");"chemistry"===p(s.get(0))&&(a=null)}}else"text"===r&&(a=null);return{status:a}}}},{name:r.BUTTON_NAME.DELETE,label:e.getMessage(a.default.DELETE),iconName:f.DELETE,onClickFunc:function(t){e.controller.execute(_.REMOVE_DRAWING_OBJECT)},status:{group:E.IMAGE_EDIT,fn:function(t){var i=t.isImage,n=t.drawingObjectId,r=!0;i&&(r=!e.getContentsManager().getElement(n).hasClass(h));return{status:r?m.DISABLE:null}}}},{name:r.BUTTON_NAME.OBJ_ALIGN,label:e.getMessage(a.default.OBJ_ALIGN),iconName:f.OBJ_VALIGN_BOTTOM,type:O.DROPDOWN,useIcon:!0,isSingle:!0,labelChangeable:!0,dropdownItems:[{label:e.getMessage(a.default.OBJ_ALIGN_BOTTOM),useIcon:!0,name:f.OBJ_VALIGN_BOTTOM,onClickFunc:function(t){e.controller.execute(_.SET_DRAWING_OBJECT_ALIGN,e.util.getObjectAlignStyle("bottom"))}},{label:e.getMessage(a.default.OBJ_ALIGN_MIDDLE),useIcon:!0,name:f.OBJ_VALIGN_MIDDLE,onClickFunc:function(t){e.controller.execute(_.SET_DRAWING_OBJECT_ALIGN,e.util.getObjectAlignStyle("middle"))}},{label:e.getMessage(a.default.OBJ_ALIGN_TOP),useIcon:!0,name:f.OBJ_VALIGN_TOP,onClickFunc:function(t){e.controller.execute(_.SET_DRAWING_OBJECT_ALIGN,e.util.getObjectAlignStyle("top"))}}],status:{fn:function(t){var i=t.drawingObjectStyle,n=void 0,r=void 0;return e.util.isEmpty(i)||(r=(n=e.util.getObjectAlignValue(i))?[f.OBJ_VALIGN_TOP,f.OBJ_VALIGN_MIDDLE,f.OBJ_VALIGN_BOTTOM].find((function(e){return e.match(new RegExp(n,"i"))})):null),{select:{name:r,showOwnLabel:!1}}}}}]}}))}else r.PLUGIN_NAME},1590:function(e,t,i){"use strict";var n;t.__esModule=!0;var r,a=i(1010),o=(r=a)&&r.__esModule?r:{default:r};t.default=((n={})[o.default.MATH]={en:"Math Type",ko:"수식 유형"},n[o.default.CHEM]={en:"Chemistry Type",ko:"화학 유형"},n[o.default.NOT_COMPLETED]={en:"[#{type} Type] The value may not be accurate if handwriting mode has not been completed.",ko:"[#{type} Type] 필기 모드가 완료되지 않은 상태에서는 값이 정확하지 않을 수 있습니다."},n[o.default.DELETE]={en:"Delete",ko:"삭제"},n[o.default.OBJ_ALIGN]={en:"Arrangement",ko:"배치"},n[o.default.OBJ_ALIGN_BOTTOM]={en:"Bottom Arrangement",ko:"아래쪽 배치"},n[o.default.OBJ_ALIGN_MIDDLE]={en:"Middle Arrangement",ko:"중간 배치"},n[o.default.OBJ_ALIGN_TOP]={en:"Top Arrangement",ko:"위쪽 배치"},n)},1591:function(e,t,i){"use strict";var n;t.__esModule=!0,t.default=function(e){var t=e.getConfiguration("editor.balloon");Object.assign(t,a)};var r=i(820),a=((n={})[r.PLUGIN_NAME]=[r.BUTTON_NAME.MATH,r.BUTTON_NAME.CHEM,r.BUTTON_NAME.OBJ_ALIGN,r.BUTTON_NAME.DELETE],n)},1592:function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){var t=e.constructor.CONST.CUSTOM_EVENT_TYPE,i=e.constructor.ACTION;e.customEventManager.add(t.BEFORE_SHOW_BALLOON,(function(t){var r=t.selection;if(r.isDrawingObjectSelection()&&r.getDrawingObject().hasClass("Wirisformula")){var a=r.getDrawingObject();a.hasClass("Wirisformula")&&(t.returnValue=!1,e.execCommand(i.SHOW_BALLOON,n.PLUGIN_NAME,e.getContentsManager().getHTMLElement(a.id),{position:"center"}))}})),e.customEventManager.add(t.AFTER_BUILD_MODEL,(function(t){var i=e.getConfiguration(n.PLUGIN_NAME+".config")||{},r=e.getRenderManager();e.getSEModelManager().getImages().forEach((function(t){var n=e.util.get(t.getHTMLAttribute(),["data-mathml"]);e.util.isString(n)&&(t.addClass("Wirisformula"),e.util.isString(i.mathMlToSvgUrl)&&function(e){var t,i;return Promise.resolve().then((function(){return t="",Promise.resolve().then((function(){return fetch(e)})).then((function(e){if(!(i=e).ok)throw new Error("HTTP error! Status: "+i.status);return i.text()})).then((function(e){t="data:image/svg+xml;base64,"+btoa(e)})).catch((function(e){}))})).then((function(){return t}))}(i.mathMlToSvgUrl.replace(/{mathML}/gi,encodeURIComponent(n))).then((function(i){t.setSrc(i),t.isAlternate=!1,t.__setImageNaturalSize__=!0,e.util.unset(t.getStyle(),["width"]),e.util.unset(t.getStyle(),["height"]),e.util.unset(t.getStyle(),["minWidth"]),e.util.unset(t.getStyle(),["minHeight"]),r.renderDrawingObject(t)})))}))}))};var n=i(820)},820:function(e,t,i){"use strict";t.__esModule=!0;var n=t.PLUGIN_NAME="mathType";t.BUTTON_NAME={MATH:n+".math",CHEM:n+".chem",DELETE:n+".delete",OBJ_ALIGN:n+".objAlign"}},89:function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){if(!window.SynapEditor)return;r.forEach((function(t){var i=Object.entries(e).reduce((function(e,i){var r=i[0],a=i[1];if(r){var o=a[t].split("|");e[r]=((n.isMac||n.isIOS)&&o[1]?o[1]:o[0]).trim()}return e}),{});window.SynapEditor.addMessages(t,i)}))};var n=i(12),r=["ko","en"]}})}));